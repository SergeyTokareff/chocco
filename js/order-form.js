"use strict";!function(){var e=document.querySelector(".close"),s=$(".modal"),d=$(".modal__content"),l=d.find(".modal__text"),r=$("body");$(".form").submit(function(e){e.preventDefault();var a=$(e.currentTarget),t=a.find("[name='name']"),o=a.find("[name='phone']"),n=a.find("[name='comment']"),e=a.find("[name='to']");(a=a,[t,o,n,e].forEach(function(e){e.removeClass("input-error"),""===e.val().trim()&&e.addClass("input-error")}),0==a.find(".input-error").length)&&$.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"POST",data:{name:t.val(),phone:o.val(),comment:n.val(),to:e.val()},success:function(e){l.text(e.message),$(s).addClass("overlay__active"),$(d).addClass("modal__active"),$(r).addClass("body-active-menu")},error:function(e){l.text(e.responseJSON.message),$(s).addClass("overlay__active"),$(d).addClass("modal__active"),$(r).addClass("body-active-menu")}})}),$(e).click(function(e){e.preventDefault(),$(s).removeClass("overlay__active"),$(d).removeClass("modal__active"),$(r).removeClass("body-active-menu")})}();