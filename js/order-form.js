"use strict";!function(){var e=document.querySelector(".close"),s=$(".modal"),d=$(".modal__content"),l=d.find(".modal__text"),r=$("body");$(".form").submit(function(e){e.preventDefault();var e=$(e.currentTarget),a=e.find("[name='name']"),t=e.find("[name='phone']"),o=e.find("[name='comment']"),n=e.find("[name='to']");e=e,[a,t,o,n].forEach(function(e){e.removeClass("input-error"),""===e.val().trim()&&e.addClass("input-error")}),0==e.find(".input-error").length&&$.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"POST",data:{name:a.val(),phone:t.val(),comment:o.val(),to:n.val()},success:function(e){l.text(e.message),$(s).addClass("overlay__active"),$(d).addClass("modal__active"),$(r).addClass("body-active-menu")},error:function(e){l.text(e.responseJSON.message),$(s).addClass("overlay__active"),$(d).addClass("modal__active"),$(r).addClass("body-active-menu")}})}),$(e).click(function(e){e.preventDefault(),$(s).removeClass("overlay__active"),$(d).removeClass("modal__active"),$(r).removeClass("body-active-menu")})}();